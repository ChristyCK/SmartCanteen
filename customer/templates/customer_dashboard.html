{% extends 'base.html' %}

{% load static %}

{% block title %}Dashboard{% endblock title %}

{% block style %}
.carousel-item img {
    width: 100%;
    height: 400px;
    object-fit: cover;
}
.item-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
    transition: transform 0.2s;
}
.item-card:hover {
    transform: scale(1.05);
}
.item-photo {
    width: 100%;
    height: 150px;
    object-fit: cover;
}
.btn-add-to-cart {
    margin-top: 10px;
}

.small-alert {
    padding: 15px;
    font-size: 1rem;
    margin: 5px;
}
{%endblock style%}

{% block navlinks %}
<li class="nav-item">
    <a class="nav-link active" aria-current="page" href="#">
        <i class="bi bi-house-door me-1"></i>Home
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'view_cart' %}">
        <i class="bi bi-cart me-1"></i>Cart
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{% url 'customer_notifications' %}">
        <i class="bi bi-bell me-1"></i>Notifications
    </a>
</li>
<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-person-circle me-1"></i>Account
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
        <li><a class="dropdown-item" href="{% url 'view_orders' %}"><i class="bi bi-bag me-2"></i>Orders</a></li>
        <li><a class="dropdown-item" href="{% url 'khattabook' %}"><i class="bi bi-journal me-2"></i>KhattaBook</a></li>
        <li><a class="dropdown-item" href="{% url 'raise_issue' %}"><i class="bi bi-exclamation-triangle me-2"></i>Raise Issue</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="{% url 'app_logout' %}"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
    </ul>
</li>
{% endblock navlinks %}


{% block messages %}
{% for message in messages %}

<div class="alert alert-info small-alert alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-sm btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

{% endfor %}
{% endblock messages %}


{% block content %}

<div class="container mt-4">

    <div id="advertisementCarousel" class="carousel slide mb-4" data-bs-ride="carousel" data-bs-interval="5000">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{% static 'images/ad_1.png' %}" alt="Advertisement 1">
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/ad_2.png' %}" alt="Advertisement 2">
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/ad_3.png' %}" alt="Advertisement 3">
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/ad_4.png' %}" alt="Advertisement 3">
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#advertisementCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#advertisementCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <!-- Segment 2: Frequently Ordered Items -->
    {% comment %} <h2 class="mb-4">Frequently Ordered Items</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
        <!-- Item 1 -->
        {% for item in items %}
        <div class="col">
            <div class="card item-card">
                <img src="{{item.item_image.url}}" class="card-img-top item-photo" alt="Item 1">
                <div class="card-body">
                    <h5 class="card-title">{{item.item_name}} </h5>
                    <p class="card-text">&#8377; {{item.price}}</p>
                    
                    <form action="{% url 'add_to_cart' item.item_id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-primary btn-add-to-cart">Add to Cart</button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
    </div> {% endcomment %}

    <!-- Segment 3: Item Menu -->
    <h2 class="my-4">Item Menu</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-5 g-4">
        {% for item in items %}
        <div class="col">
            <div class="card item-card">
                <img src="{{item.item_image.url}}" class="card-img-top item-photo" alt="Item 1">
                <div class="card-body">
                    <h5 class="card-title">{{item.item_name}} </h5>
                    <p class="card-text">&#8377; {{item.price}}</p>
                    
                    <form action="{% url 'add_to_cart' item.item_id %}" method="post">
                        {% csrf_token %}
                        <button class="btn btn-primary btn-add-to-cart">Add to Cart</button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div><br>

{% endblock content %}

{% block script %}

{% endblock script %}